<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>WahlKompass Moosburg ‚Äì Kommunalwahl 2026</title>
  <meta name="description" content="Finde heraus, welche Partei deinen Ansichten bei der Kommunalwahl Moosburg am n√§chsten steht."/>
  <meta name="theme-color" content="#B8121E"/>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.2/babel.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Source+Sans+3:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0;}
    html,body,#root{height:100%;}
    body{font-family:'Source Sans 3',sans-serif;background:#F5F2EB;}
    @keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
    @keyframes barGrow{from{width:0}to{}}
    @keyframes expandIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}
    @keyframes scaleIn{from{opacity:0;transform:scale(0.96)}to{opacity:1;transform:scale(1)}}
    .wk-fu{animation:fadeUp .5s ease both}
    .wk-fu1{animation-delay:.06s}.wk-fu2{animation-delay:.16s}.wk-fu3{animation-delay:.28s}.wk-fu4{animation-delay:.40s}.wk-fu5{animation-delay:.52s}
    .wk-bar{animation:barGrow 1s cubic-bezier(.22,.68,0,1.2) both}
    .wk-expand{animation:expandIn .22s ease both}
    .wk-modal{animation:scaleIn .22s ease}
    .wk-btn-ans{transition:transform .1s,box-shadow .1s;cursor:pointer}
    .wk-btn-ans:hover{transform:translateY(-3px)!important}
    .wk-btn-ans:active{transform:translateY(0)!important}
    .wk-karte-hdr{cursor:pointer;user-select:none;transition:background .15s}
    .wk-karte-hdr:hover{background:#FAFAF7!important}
    .wk-karte{animation:fadeUp .4s ease both}
    .wk-row:not(:last-child){border-bottom:1px solid #EDE9DF}
    .wk-ghost:hover{background:#E2DDD4!important}
    .wk-prim:hover{background:#8B0D17!important;transform:translateY(-2px);box-shadow:0 8px 24px rgba(140,13,23,.3)!important}
    .wk-gwt:hover{background:#F0EDE4!important}
    ::-webkit-scrollbar{width:5px}
    ::-webkit-scrollbar-track{background:#EDE9DF;border-radius:99px}
    ::-webkit-scrollbar-thumb{background:#C8B89A;border-radius:99px}
  </style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
const { useState, useMemo, useCallback } = React;

const FRAGEN = [
  { id:"q1",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg in der Innenstadt verkehrsberuhigte Bereiche schaffen?" },
  { id:"q2",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll am Schulzentrum S√ºd eine Einweg-Regelung eingef√ºhrt werden?" },
  { id:"q3",  kategorie:"Verkehr & Mobilit√§t",           text:"Sollen in Moosburg weitere Tempo-30-Zonen ausgewiesen werden?" },
  { id:"q4",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg ein digitales Parkraummanagement einf√ºhren?" },
  { id:"q5",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg ein innenstadtnahes Parkhaus bauen?" },
  { id:"q6",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg die Kosten f√ºr Parktickets in der Innenstadt erh√∂hen, um mehr finanziellen Spielraum zu haben?" },
  { id:"q7",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg weitere Ma√ünahmen ergreifen, um den Verkehr in der Innenstadt zu reduzieren?" },
  { id:"q8",  kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg sich f√ºr einen Nachtverkehr an Wochenenden und vor Feiertagen einsetzen?" },
  { id:"q9",  kategorie:"Digitalisierung & Transparenz", text:"Soll die Stadt Moosburg Videotermine f√ºr Beh√∂rdeng√§nge erm√∂glichen?" },
  { id:"q10", kategorie:"Digitalisierung & Transparenz", text:"Soll die Stadt Moosburg die Unterlagen zu √∂ffentlichen Stadtratssitzungen f√ºr alle zug√§nglich machen?" },
  { id:"q11", kategorie:"Digitalisierung & Transparenz", text:"Soll die Stadt Moosburg die Stadtratssitzungen live streamen?" },
  { id:"q12", kategorie:"Verkehr & Mobilit√§t",           text:"Soll die Stadt Moosburg in der Altstadt alle bestehenden Parkfl√§chen erhalten?" },
  { id:"q13", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg in den kommenden 6 Jahren grunds√§tzlich keine neuen Baugebiete mehr ausweisen?" },
  { id:"q14", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg mehr Baurecht schaffen, um Gewerbe und Wohnungsnot entgegenzuwirken?" },
  { id:"q15", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg bei neuen Wohnquartieren auf nachhaltige Mobilit√§ts- und Energiekonzepte bestehen?" },
  { id:"q16", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Asch-Wiese weiterhin unbebaut, bzw. unversiegelt bleiben?" },
  { id:"q17", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg auf √∂ffentlichem Grund nur im absolut notwendigen Umfang Fl√§che versiegeln?" },
  { id:"q18", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg neben der Erweiterung von Degernpoint weitere Gewerbegebiete schaffen?" },
  { id:"q19", kategorie:"Wirtschaft & Finanzen",         text:"Soll die Stadt Moosburg die Gewerbesteuer senken, um Unternehmen anzulocken?" },
  { id:"q20", kategorie:"Wirtschaft & Finanzen",         text:"Soll die Stadt Moosburg sich selbst durch personelle Verst√§rkung an der Wirtschaftsf√∂rderung beteiligen?" },
  { id:"q21", kategorie:"Wirtschaft & Finanzen",         text:"Soll die Marketing eG weiterhin federf√ºhrend f√ºr das st√§dtische Marketing verantwortlich lassen?" },
  { id:"q22", kategorie:"Wirtschaft & Finanzen",         text:"Soll die Stadt Moosburg st√§dtische Geb√ºhren regelm√§√üig erh√∂hen, um den Haushalt zu entlasten?" },
  { id:"q23", kategorie:"Soziales & Bildung",            text:"Soll die Stadt Moosburg Schulwegpl√§ne erstellen, um die Schulwegsicherheit zu steigern?" },
  { id:"q24", kategorie:"Soziales & Bildung",            text:"Soll die Stadt Moosburg sich f√ºr Sitzpl√§tze f√ºr alle Kinder in Schulbussen einsetzen?" },
  { id:"q25", kategorie:"Soziales & Bildung",            text:"Soll die Stadt Moosburg in √∂ffentlichen Geb√§uden kostenlose Hygiene- und Menstruationsartikel zur Verf√ºgung stellen?" },
  { id:"q26", kategorie:"Soziales & Bildung",            text:"Soll das Jugendparlament ein verbindliches Mitspracherecht im Stadtrat erhalten?" },
  { id:"q27", kategorie:"Kultur & Gesellschaft",         text:"Soll die Stadt Moosburg f√ºr den Christkindlmarkt auf dem Plan zus√§tzliche Buden anschaffen?" },
  { id:"q28", kategorie:"Kultur & Gesellschaft",         text:"Soll die Stadt Moosburg M√∂glichkeiten f√ºr alternative Bestattungen schaffen?" },
  { id:"q29", kategorie:"Kultur & Gesellschaft",         text:"Soll die Stadt Moosburg sich f√ºr den Erhalt der Stalag-Baracken und die Schaffung eines Dokumentationszentrums einsetzen?" },
  { id:"q30", kategorie:"Kultur & Gesellschaft",         text:"Sollen am Rathaus der Stadt Moosburg andere Flaggen als nur die der Stadt Moosburg oder des Freistaates Bayern gehisst werden d√ºrfen, wenn der Stadtrat dies beschlie√üt?" },
  { id:"q31", kategorie:"Klima & Umwelt",                text:"Soll die Stadt Moosburg wieder F√∂rderprogramme f√ºr Klimaschutzma√ünahmen auflegen?" },
  { id:"q32", kategorie:"Freizeit & Sport",              text:"Soll die Stadt Moosburg den verfallenen Fahrradpark als modernen \u201eDirtpark\u201c erneuern?" },
  { id:"q33", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg das Bahnhofsgeb√§ude abrei√üen und durch einen kosteng√ºnstigen Containerbau ersetzen?" },
  { id:"q34", kategorie:"Stadtentwicklung & Bauen",      text:"Soll die Stadt Moosburg sich bem√ºhen, das Bahnhofsgeb√§ude wieder zu verkaufen?" },
  { id:"q35", kategorie:"Demokratie & Beteiligung",      text:"Soll die kommunale Mitbestimmung in Form von B√ºrgerr√§ten, Umfragen und Onlinesprechstunden weiter intensiviert werden?" },
  { id:"q36", kategorie:"Verkehr & Mobilit√§t",           text:"Soll auf dem Plan √ºber die gekennzeichneten Parkpl√§tze hinaus geparkt werden d√ºrfen?" },
];

const PARTEIEN = [
  {
    id:"csu", name:"CSU", farbe:"#0088CC", teilnehmend:true,
    antworten:{q1:"ja",q2:"nein",q3:"ja",q4:"neutral",q5:"ja",q6:"nein",q7:"ja",q8:"neutral",q9:"nein",q10:"ja",q11:"ja",q12:"neutral",q13:"nein",q14:"ja",q15:"ja",q16:"ja",q17:"neutral",q18:"ja",q19:"nein",q20:"ja",q21:"neutral",q22:"neutral",q23:"neutral",q24:"ja",q25:"neutral",q26:"neutral",q27:"neutral",q28:"ja",q29:"ja",q30:"nein",q31:"ja",q32:"ja",q33:"nein",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:null,q2:"Mehr Kontrollen, mehr Aufkl√§rung, bessere Markierung der Parkpl√§tze f√ºr Elterntaxis.",q3:"Wo sinnvoll / nach Bedarf, z. B. bei Schulen und Kindertageseinrichtungen.",q4:"Nach Pr√ºfung und Abw√§gung von Kosten/Nutzen.",q5:'Auf dem Gel√§nde "Alte Polizei" ‚Üí ausreichende zentrumsnahe Parkpl√§tze, um die Attraktivit√§t der Innenstadt zu erh√∂hen.',q6:"Kunden der Innenstadt nicht durch zu hohe Parkgeb√ºhren abschrecken.",q7:null,q8:"Nach Pr√ºfung und Abw√§gung von Kosten/Nutzen.",q9:null,q10:null,q11:null,q12:'Bei Realisierung eines Parkhauses am Gel√§nde "Alte Polizei" vorstellbar (Ersatz-Stellpl√§tze).',q13:"Zuzug auf vertr√§gliches Ma√ü begrenzen.",q14:"Gewerbe ja / Zuzug auf vertr√§gliches Ma√ü.",q15:null,q16:null,q17:null,q18:"Um die Wirtschaft zu st√§rken und mehr Gewerbe in Moosburg anzusiedeln.",q19:null,q20:"Wirtschaftsf√∂rderer u. a. auf Antrag der CSU Moosburg beschlossen / als K√ºmmerer der Moosburger Firmen und Gewerbetreibenden, f√ºr Leerstandsmanagement und Firmenansiedlungen (Arbeitspl√§tze).",q21:"Marketing und Events durch Marketing eG / Wirtschaftsf√∂rderung durch Stadt Moosburg.",q22:"Nicht regelm√§√üig ‚Äì Abw√§gung bei jeder Geb√ºhrenerh√∂hung notwendig.",q23:"St√§rkung der Sch√ºlerlotsen / sichere Gestaltung der Schulwege.",q24:null,q25:"An Schulen.",q26:"Rederecht bei Themen des Jugendparlaments.",q27:"Falls B√ºrgerumfrage sich f√ºr den Christkindlmarkt auf dem Plan entscheidet, w√§ren neue Buden notwendig.",q28:"Auf bestehendem Friedhof.",q29:null,q30:null,q31:"Im Rahmen der finanziellen M√∂glichkeiten.",q32:"Im Rahmen der finanziellen M√∂glichkeiten.",q33:null,q34:"Sanierung/Betrieb durch Investor.",q35:null,q36:"Pr√ºfung, ob in den Wintermonaten mehr Parkpl√§tze angeboten werden k√∂nnen."},
  },
  {
    id:"fw", name:"Freie W√§hler", farbe:"#FF6000", teilnehmend:true,
    antworten:{q1:"ja",q2:"nein",q3:"nein",q4:"ja",q5:"nein",q6:"nein",q7:"ja",q8:"nein",q9:"ja",q10:"ja",q11:"neutral",q12:"nein",q13:"nein",q14:"ja",q15:"nein",q16:"ja",q17:"ja",q18:"ja",q19:"nein",q20:"nein",q21:"ja",q22:"ja",q23:"nein",q24:"ja",q25:"nein",q26:"ja",q27:"ja",q28:"ja",q29:"ja",q30:"nein",q31:"nein",q32:"ja",q33:"neutral",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:"Wir m√∂chten eine tempor√§re Fu√üg√§ngerzone im Bereich Herrnstra√üe / Stadtplatz errichten. Zur Belebung der Innenstadt dann auch Marktst√§nde und Veranstaltungen in diesem Bereich.",q2:"Eine Einweg-Regelung l√∂st das Problem der sogenannten Eltern-Taxis nicht.",q3:null,q4:"Im Innenstadtbereich besteht ein Parksuchverkehr. Durch Einf√ºhrung einer digitalen L√∂sung wollen wir diesen reduzieren.",q5:null,q6:null,q7:"Wir wollen die ausw√§rtigen Kunden, die in Moosburg einkaufen oder was zu erledigen haben, in unserer Stadt haben. Es gilt den Ortsdurchgangsverkehr zu reduzieren.",q8:"Wir wollen nicht mehr Verkehr nachts und am Wochenende. Die Frage ist vermutlich missverst√§ndlich.",q9:"Wir wollen einen Live-B√ºrgerservice etablieren.",q10:null,q11:null,q12:"Durch Infrastrukturma√ünahmen Innenstadt sch√∂ner machen, einzelne Parkpl√§tze verlagern.",q13:"Baugebiet ja oder nein hat direkte Auswirkung. Angebot und Nachfrage haben Auswirkungen auf die Preise am Wohnungsmarkt.",q14:null,q15:null,q16:null,q17:null,q18:null,q19:"Die Frage w√ºrde sich dann stellen, wenn Gewerbegebiete vorhanden sind.",q20:null,q21:null,q22:"Um keine Einrichtungen schlie√üen zu m√ºssen, sollten die Geb√ºhren regelm√§√üig, also alle 2‚Äì3 Jahre, orientiert an der Inflationsrate erh√∂ht werden.",q23:null,q24:null,q25:null,q26:null,q27:null,q28:null,q29:null,q30:null,q31:null,q32:"Unter Verantwortung und Tr√§gerschaft eines Vereins.",q33:null,q34:null,q35:null,q36:null},
  },
  {
    id:"afd", name:"AfD", farbe:"#009EE0", teilnehmend:false,
    antworten: Object.fromEntries(FRAGEN.map(f=>[f.id,null])),
    begruendungen: Object.fromEntries(FRAGEN.map(f=>[f.id,null])),
  },
  {
    id:"gruene", name:"Gr√ºne", farbe:"#46962B", teilnehmend:true,
    antworten:{q1:"ja",q2:"nein",q3:"ja",q4:"ja",q5:"nein",q6:"neutral",q7:"ja",q8:"ja",q9:"ja",q10:"ja",q11:"neutral",q12:"nein",q13:"nein",q14:"ja",q15:"ja",q16:"ja",q17:"ja",q18:"nein",q19:"nein",q20:"ja",q21:"neutral",q22:"neutral",q23:"ja",q24:"ja",q25:"ja",q26:"ja",q27:"nein",q28:"ja",q29:"ja",q30:"ja",q31:"ja",q32:"ja",q33:"nein",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:"Wir setzen uns ein f√ºr eine lebendige Innenstadt ‚Äì mit Verkehrsberuhigung UND Aufenthaltsqualit√§t. Mit Sitz- und Spielgelegenheiten, Stadtb√§umen, barrierefreien Wegen, mehr Platz f√ºr Au√üengastronomie.",q2:"Eine zeitlich befristete Einfahrtsregelung wie in der Albinstra√üe ist die effektivere Ma√ünahme. F√ºr AnwohnerInnen, Pflegedienste und Lieferverkehr werden Ausnahmegenehmigungen ausgestellt.",q3:"Mit unserem Antrag wurde das letzte gro√üe Wohngebiet in der Neustadt zur Tempo-30-Zone ‚Äì weitere Stra√üen m√ºssen folgen.",q4:"Ca. 30 % des innerst√§dtischen Verkehrs sind Parkplatzsuchverkehr. Dieser kann durch ein digitales Parkraummanagement stark reduziert werden.",q5:"Verkehrsuntersuchungen zeigten, dass nach der Plansanierung ausreichend innenstadtnahe Parkpl√§tze vorhanden sind. Der Flex verbessert die Erreichbarkeit zus√§tzlich.",q6:"Derzeit nicht n√∂tig. Allerdings sollten geltende Regelungen, z. B. Parkverbot auf Fu√üwegen, st√§rker kontrolliert werden.",q7:"Eine weitere Verkehrsreduktion in der Innenstadt schafft Aufenthalts- und Lebensqualit√§t. Die Innenstadt muss fu√üg√§ngerfreundlicher gestaltet werden.",q8:"Mit der n√§chsten Fortschreibung des Flex regen wir an, die Fahrtzeit an Wochenenden/Feiertagen deutlich zu verl√§ngern (bis 0 oder 1 Uhr).",q9:"Im Rahmen der rechtlichen M√∂glichkeiten (Datenschutz) werden wir dies m√∂glichst schnell umsetzen.",q10:"In vielen Kommunen ist dies bereits Standard. Mit einem Gr√ºnen B√ºrgermeister wird dies zeitnah eingef√ºhrt.",q11:null,q12:"Der eine oder andere Parkplatz in der Innenstadt sollte aufgel√∂st werden, um Platz f√ºr Stadtm√∂blierung, B√§ume und attraktive Au√üengastronomie zu schaffen.",q13:"Wir setzen uns f√ºr ma√üvolles Wachstum ein. Baugebiete sollen nur ausgewiesen werden, wenn die Stadt zum gr√∂√üten Teil Eigent√ºmerin der Fl√§chen ist.",q14:"Wir brauchen Degernpoint 3 f√ºr Erweiterung und Ansiedlung gr√∂√üerer Gewerbebetriebe. Ein Gewerbegebiet Unterreit direkt an den Amperauen lehnen wir ab.",q15:"Nachhaltige Mobilit√§tsangebote (Sharing-Stationen mit E-Autos, Lastenr√§dern, E-Bikes, Rollern, √ñPNV-Karten) sind wichtig f√ºr umweltfreundliche Mobilit√§t.",q16:"Mit uns gibt es keine Bebauung auf der Schloss-Asch-Wiese. Wir erhalten unsere gr√ºne Lunge.",q17:"Fl√§chenversiegelung ist eines der gr√∂√üten Umweltprobleme. Wir brauchen B-Pl√§ne auch zur Steuerung der Nachverdichtung.",q18:"Wir sehen die zuk√ºnftige Gewerbeentwicklung in Degernpoint 3. Wie bei der Wohnbebauung soll dies auf st√§dtischen Fl√§chen verwirklicht werden.",q19:"Wir setzen auf verl√§ssliche Finanzpolitik, um den Stadthaushalt zu entlasten und Planungssicherheit f√ºr lokale Unternehmen zu gew√§hrleisten.",q20:"Wir planen eine Wirtschaftseinheit direkt beim B√ºrgermeister ‚Äì bestehend aus Wirtschaftsf√∂rderung, Marketing und √ñffentlichkeitsarbeit.",q21:"Zumindest eine Marketingstelle soll direkt beim B√ºrgermeister angesiedelt werden. In Zusammenarbeit mit der Marketing eG soll das Stadtmarketing neu aufgestellt werden.",q22:"St√§dtische Geb√ºhren sollen im Rahmen der Inflation ma√üvoll angepasst werden, mehr nicht.",q23:"Die Gr√ºnen haben bereits 2022 einen Antrag f√ºr Schulwegpl√§ne gestellt (durch Stadtratsmehrheit abgelehnt).",q24:"Die Gr√ºnen hatten dies auf Kreisebene beantragt. Wir setzen uns f√ºr ge√§nderte rechtliche Rahmenbedingungen ein.",q25:"Menstruationsprodukte in √∂ffentlichen Toiletten f√∂rdern Gleichberechtigung und verhindern Nachteile durch Periodenarmut.",q26:"Grunds√§tzlich muss die Zusammenarbeit mit dem Jugendparlament und die Mitwirkungsm√∂glichkeiten verbessert werden.",q27:"Wir sehen den Christkindlmarkt am Zehentstadel gut aufgehoben. Dies spart Geld, das wir in anderen Bereichen dringend brauchen.",q28:"F√ºr viele Menschen ist das ein gro√ües Anliegen, dem wir unbedingt gerecht werden m√ºssen.",q29:"Eine gelebte Erinnerungskultur bewahrt uns vor den Fehlern der Vergangenheit und macht Geschichte begreifbar.",q30:"In begr√ºndeten F√§llen sollte dies m√∂glich sein.",q31:"Die Stadt muss B√ºrger*innen bei der Energiewende unterst√ºtzen. Ma√ügeschneiderte F√∂rderprogramme werden mit einem gr√ºnen B√ºrgermeister wieder eingef√ºhrt.",q32:"Der bestehende Park ist unsicher. Die Anlage ist eine sinnvolle Erweiterung des Angebots f√ºr viele Altersgruppen.",q33:"Eine Containerl√∂sung wird dem Standort nicht gerecht. Ein saniertes Geb√§ude ist hochwertiger.",q34:"Mit einem Verkauf sind die Kaufkosten nicht mehr erzielbar. Au√üerdem gibt die Stadt dadurch Handlungsm√∂glichkeiten aus der Hand.",q35:"Unbedingt ‚Äì ein gr√ºner B√ºrgermeister wird dies einf√ºhren.",q36:"Es stehen ausreichend Parkpl√§tze in fu√ül√§ufiger Umgebung zur Verf√ºgung. Die Planfl√§che wird dringend f√ºr mehr Aufenthaltsqualit√§t ben√∂tigt."},
  },
  {
    id:"spd", name:"SPD", farbe:"#E3000F", teilnehmend:true,
    antworten:{q1:"ja",q2:"neutral",q3:"ja",q4:"neutral",q5:"nein",q6:"nein",q7:"ja",q8:"ja",q9:"neutral",q10:"ja",q11:"neutral",q12:"nein",q13:"nein",q14:"ja",q15:"ja",q16:"ja",q17:"ja",q18:"ja",q19:"neutral",q20:"ja",q21:"ja",q22:"ja",q23:"ja",q24:"ja",q25:"ja",q26:"ja",q27:"neutral",q28:"ja",q29:"ja",q30:"ja",q31:"ja",q32:"ja",q33:"ja",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:"Die Innenstadt und damit das Gewerbe profitiert mehr von einem Einkaufs-Erlebnis als von einem Parkplatz direkt vor der T√ºr.",q2:"Ein Verkehrsversuch w√ºrde belastbare Erfahrungswerte bringen. Wir sind f√ºr eine starke Einbeziehung der Anlieger.",q3:"Moosburg hat als gewachsene Stadt viele auch kleinere Stra√üen. Es ist daf√ºr zu sorgen, dass alle Verkehrsteilnehmer sich sicher bewegen k√∂nnen.",q4:"Kosten und Aufwand stehen nach unserem Wissen in keinem sinnvollen Verh√§ltnis zum Nutzen. Sollte der Zeitpunkt kommen, ist es als potentielle L√∂sung genauer zu betrachten.",q5:"Wir denken, dass im Umgriff der Westumfahrung M√∂glichkeiten f√ºr sanfte Parkraumentwicklung gegeben ist, die z. B. mit einem Shuttleservice angebunden werden kann.",q6:"Eine Parkraumbewirtschaftung kann das Stadts√§ckel nicht nachhaltig f√ºllen. Das gelingt nur √ºber eine h√∂here Attraktivit√§t der Stadt.",q7:"Die SPD hat hierzu einen Antrag vorgelegt, der alle Verkehrsteilnehmer und ihre Bedarfe an Fl√§che, Infrastruktur und Sicherheit ber√ºcksichtigt.",q8:"Mobilit√§t und Erreichbarkeit sind die Schl√ºssel f√ºr sichere Teilhabe an der Gesellschaft ‚Äì in jedem Alter und jeder Lebenssituation.",q9:"Eine weitere Digitalisierung der Verwaltung ist wichtig. Wir sehen hier aber andere Priorit√§ten, wobei Videotermine mittelfristig die logische Folge sind.",q10:"Erster Schritt sollte sein, die bereits √∂ffentlich verf√ºgbaren Unterlagen besser nutzbar zu machen.",q11:"Kosten, Nutzen und rechtliche Belange m√ºssen in Einklang gebracht werden.",q12:"Die Parkpl√§tze in der Innenstadt sind wichtig. ABER: Man k√∂nnte mit kleinem Mitteleinsatz die Parkfl√§chen anders anordnen.",q13:"Organisches Wachstum ist f√ºr unsere Stadt wichtig. Aber die Vorgehensweise der Ausweisung und die Betrachtung der Nachfolgelasten m√ºssen sich √§ndern.",q14:"Ja, aber in vern√ºnftigen Bahnen. Eine gesunde Mischung aus Wohnbebauung, kleinen und mittleren Gewerbebetrieben sowie Industrie sorgt f√ºr einen lebendigen Stadtcharakter.",q15:"Dies sollte bei allen Vorhaben die Grundlage sein und beinhaltet, dass die Stadt das Projekt als Berater f√ºr private Bauherren begleitet.",q16:"Die Aschwiese ist mit ihrer Lage ein wertvolles Gut f√ºr die Frischluftversorgung der Stadt.",q17:"Jedes gr√∂√üere Regenereignis zeigt, dass Versiegelung nicht die L√∂sung sein kann. Schwammstadtkonzepte sind auf Machbarkeit zu pr√ºfen.",q18:"Unsere Stadt hat in diesem Bereich Nachholbedarf, der sich direkt auf die Stadtfinanzen und damit die Handlungsf√§higkeit auswirkt.",q19:"Diese Entscheidungen sind gemeinsam mit den Gemeinden der Region zu treffen, da uns eine gegenseitige Kannibalisierung am wenigsten nutzt.",q20:"Ein hauptamtlicher Ansprechpartner f√ºr bestehendes und zuziehendes Gewerbe im Rathaus ist ein unmissverst√§ndliches Zeichen.",q21:"Hier ist die Kl√§rung des Arbeitsauftrages f√ºr die MoMa l√§ngst √ºberf√§llig. Wir sehen die Entwicklung in Richtung Tourismus und breitgef√§chertes Veranstaltungsmarketing als Chance.",q22:"Nicht um den Haushalt zu entlasten, sondern als regelm√§√üige und moderate Anpassung an die wirtschaftlichen M√∂glichkeiten der B√ºrger.",q23:"Auch wenn dieses Vorhaben erst einmal Kosten verursacht ‚Äì der Nutzen ist insbesondere bei sp√§teren Planungen unbestritten.",q24:"Sicherheit geht vor. Auch wenn gesetzliche Vorgaben erf√ºllt sind, darf dies nicht die Grenze des Handelns sein.",q25:"Ja, denn manchmal besteht Gleichberechtigung aus kleinen Schritten, die man(n) einfach gehen sollte.",q26:"Wir haben das JUP als kompetenten Ansprechpartner kennen und sch√§tzen gelernt.",q27:"Wir finden beide Standorte attraktiv und sprechen uns f√ºr eine B√ºrgerbefragung aus.",q28:"Auch der letzte Gang sollte die M√∂glichkeit er√∂ffnen, mit seiner Heimatstadt verbunden zu bleiben.",q29:"Wir sehen in unserer Stadtgeschichte einen wertvollen Schatz, der touristisch gehoben werden sollte.",q30:"Das Rathaus ist Mittelpunkt und Zeichen der st√§dtischen Gemeinschaft.",q31:"Klimapolitik ist gelebte Politik, von der wir alle profitieren.",q32:"Wir glauben, dass der Dirtpark an der Amper eine gute Idee ist.",q33:"Zustand und Lage des Geb√§udes (Bausubstanz, Asbest, N√§he zum Gleis) legen nahe, den Bestand abzurei√üen und zu ersetzen.",q34:"Wenn wir den Bahnhof zum Mittelpunkt des √ñPNV machen wollen, brauchen wir ihn in eigener Hand.",q35:"Eine alte Forderung der SPD. Die technischen Mittel lassen einen sinnvollen Einsatz direkter Demokratie endlich n√§her r√ºcken.",q36:"Nein, einfach nein! Hier soll st√§dtisches Leben stattfinden."},
  },
  {
    id:"fresh", name:"FRESH", farbe:"#36c9c5", teilnehmend:true,
    antworten:{q1:"ja",q2:"ja",q3:"ja",q4:"ja",q5:"nein",q6:"nein",q7:"ja",q8:"ja",q9:"ja",q10:"ja",q11:"neutral",q12:"nein",q13:"neutral",q14:"neutral",q15:"ja",q16:"ja",q17:"ja",q18:"neutral",q19:"nein",q20:"nein",q21:"neutral",q22:"ja",q23:"nein",q24:"neutral",q25:"ja",q26:"ja",q27:"neutral",q28:"ja",q29:"ja",q30:"ja",q31:"ja",q32:"neutral",q33:"nein",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:"Fresh setzt sich daf√ºr ein, dass die Innenstadt nicht nur verkehrsberuhigt ist, sondern eine Fu√üg√§ngerzone entsteht. Jedoch kann mit einem verkehrsberuhigten Bereich in der gesamten Innenstadt ein erster Schritt unternommen werden.",q2:"Wir sehen bei der aktuellen Stra√üensituation die Gefahr, dass nicht gen√ºgend auf Kinder geachtet werden kann, die dort zwingend die Stra√üen √ºberqueren m√ºssen.",q3:"Wir sind f√ºr einen sinnvollen Einsatz von jeglichen Geschwindigkeitsreduzierungen, wenn eine Beruhigung des Verkehrs n√∂tig und m√∂glich ist.",q4:"Wir fordern, dass ein st√§dtisches Parkleitsystem eingef√ºhrt wird. Somit kann jeder B√ºrger in dieser Stadt schnell und unkompliziert einsehen, welche Parkpl√§tze in der Stadt noch vorhanden sind.",q5:"Wir sind daf√ºr, dass eher L√∂sungen gef√∂rdert werden sollten, die vorhandenen Parkfl√§chen barrierefrei an die Innenstadt anbinden.",q6:"Aktuell fordern wir keine Erh√∂hung der Parkscheinpreise.",q7:"Fresh setzt sich f√ºr die Errichtung einer Fu√üg√§ngerzone in der Innenstadt ein. Damit kann die Lebensqualit√§t in der Innenstadt erheblich aufgewertet werden.",q8:"Fresh setzt sich f√ºr l√§ngere Betriebszeiten der FLEX-Busse ein.",q9:"Durch das Anbieten von Online-M√∂glichkeiten sehen wir eine Verbesserung der Barrierefreiheit, die letztendlich allen B√ºrger*innen zugute kommt.",q10:"Fresh bekennt sich zur Transparenz der Entscheidungen, die √∂ffentlich getroffen werden. Daher bef√ºrworten wir eine Ausweitung dieser Informationsm√∂glichkeit vonseiten der Stadt.",q11:"Uns ist eine hohe Partizipation und Transparenz wichtig, jedoch muss in einem solchen Fall der Datenschutz gewahrt werden.",q12:"Parkfl√§chen sind wichtig, sollten aber niemals √ºber die Bed√ºrfnisse der Menschen vor Ort gestellt werden. Es sind genug gut erreichbare Parkpl√§tze au√üerhalb der Altstadt vorhanden.",q13:"Es ist sch√∂n und w√ºnschenswert, dass unsere Stadt wachsen kann. Allerdings m√∂chten wir davon absehen, pauschal auf eine zuk√ºnftige Entwicklung bereits heute zu reagieren.",q14:"Fresh ist grunds√§tzlich kein Gegner davon, Baurecht zu schaffen, doch muss abgew√§gt werden, welche Nutzen damit verfolgt werden. Unsere gr√∂√üte Priorit√§t liegt bei sozialen Unterst√ºtzungen im Punkt Wohnungsbau.",q15:"Fresh bekennt sich zum Klimaschutz, deshalb sind wir daf√ºr, dass bei Neubauten auf Nachhaltigkeit geachtet wird.",q16:"Als Gr√ºne Lunge unserer Innenstadt muss sie erhalten bleiben. Als Vorschlag pl√§dieren wir f√ºr einen nat√ºrlich gehaltenen Park.",q17:null,q18:"Wir orientieren uns hier ganz an der Nachfrage und unterst√ºtzen alle Ausschreibungen f√ºr Gewerbegebiete, wenn deren Umsetzung sinnvoll und n√∂tig ist.",q19:"Wir sehen keine praktikable M√∂glichkeit, die Gewerbesteuer massiv genug zu senken, ohne gro√üe Auswirkungen auf den st√§dtischen Haushalt.",q20:"Ein Wirtschaftsf√∂rderer mag kurzfristig Unternehmen anwerben k√∂nnen, jedoch halten wir den langfristigen Nutzen f√ºr so gering, dass sich die Kosten nicht rentieren.",q21:"Wir halten eine feste Stelle f√ºr sinnvoll, doch wenn die Moosburg Marketing eG diese weiter besetzt, muss die Zusammenarbeit verbessert werden.",q22:"Die st√§dtischen Geb√ºhren sollen an die j√§hrliche Inflation gekoppelt werden, um diese auch im Haushalt abbilden zu k√∂nnen.",q23:"Die Sicherheit von Schulkindern ist sehr wichtig. Zu erwarten, dass Kinder nur sicher zur Schule kommen, wenn sie sich an Pl√§ne halten, ist unrealistisch.",q24:"Der Transport aller Sch√ºler muss zu jeder Zeit sicher gew√§hrleistet sein, doch solange das erf√ºllt ist, muss man nicht durch zus√§tzliche Busse den Verkehr unn√∂tig erschweren.",q25:null,q26:"Demokratie beginnt bereits in jungem Alter. Als Kommune, die das √§lteste JuPa in Bayern beherbergt, sollte dies der nat√ºrliche n√§chste Schritt sein.",q27:"Wir sind daf√ºr, dass der neue Plan bestm√∂glich f√ºr das kulturelle Leben genutzt wird. Wenn man weitere Buden ben√∂tigt, werden wir uns daf√ºr einsetzen.",q28:"Fresh setzt sich f√ºr die Vielfalt in Moosburg ein. Das beinhaltet nat√ºrlich auch das Schaffen von alternativen Bestattungsm√∂glichkeiten.",q29:"Mit der Erinnerung und dem Verst√§ndnis der Vergangenheit haben wir eine besondere Verantwortung, das historische Erbe unserer Stadt zu sch√ºtzen.",q30:"Die Beschl√ºsse des Stadtrats sind demokratisch getroffen und verbindlich, daher sollte dies im Einklang des geltenden Rechts m√∂glich gemacht werden.",q31:"Fresh setzt sich f√ºr den Klimaschutz ein, der nat√ºrlich auch mit F√∂rderungen unterst√ºtzt werden muss.",q32:null,q33:"Das Bahnhofsgeb√§ude ist definitiv allen B√ºrgern in seiner jetzigen Form ein Dorn im Auge, dies w√ºrde sich durch einen Container-Ersatz nicht √§ndern.",q34:"Die Stadt hat diesen gekauft, um daraus ein anschauliches Tor zu Moosburg zu schaffen.",q35:"Fresh setzt sich f√ºr eine intensive Partizipation und Transparenz ein und ist f√ºr jede Beteiligungsform, die den B√ºrger*innen mehr Geh√∂r verschafft.",q36:"Der Umbau des Plans wurde als Aufenthaltsfl√§che konzipiert ‚Äì s√§mtliche nicht ausgewiesenen Parkpl√§tze sollen gestrichen und Verst√∂√üe hart geahndet werden."},
  },
  {
    id:"linke", name:"LINKE", farbe:"#BE3075", teilnehmend:true,
    antworten:{q1:"ja",q2:"neutral",q3:"ja",q4:"neutral",q5:"nein",q6:"neutral",q7:"ja",q8:"neutral",q9:"ja",q10:"ja",q11:"ja",q12:"nein",q13:"ja",q14:"nein",q15:"ja",q16:"ja",q17:"ja",q18:"nein",q19:"nein",q20:"ja",q21:"nein",q22:"nein",q23:"ja",q24:"ja",q25:"ja",q26:"ja",q27:"neutral",q28:"ja",q29:"ja",q30:"ja",q31:"ja",q32:"ja",q33:"nein",q34:"nein",q35:"ja",q36:"nein"},
    begruendungen:{q1:null,q2:null,q3:null,q4:"Neutral weil man dies pauschal nicht beantworten kann. Eine gesicherte, belastbare Erhebung von Livedaten ist sehr kostenintensiv und muss auch gepflegt werden.",q5:null,q6:"Grunds√§tzlich ja, aber nicht wegen dem zweifelhaften finanziellen Spielraum der hier angezweifelt werden darf.",q7:null,q8:"Nachtverkehr von was? Fl√ºgen? Z√ºgen? LKWs?",q9:"Ja, wenn das Personal einverstanden, entsprechend entlohnt, ausgestattet und geschult wird.",q10:null,q11:null,q12:null,q13:null,q14:"Wenn dann nur Sozialwohnungen.",q15:null,q16:null,q17:null,q18:"Erst die vorhandenen nutzen und modernisieren, dann schauma weiter.",q19:null,q20:null,q21:null,q22:null,q23:null,q24:null,q25:null,q26:null,q27:"Grunds√§tzlich ja, abh√§ngig von der B√ºrger:innenbefragung und dem langfristigen Ziel.",q28:null,q29:null,q30:null,q31:null,q32:null,q33:null,q34:null,q35:null,q36:null},
  },
];

function berechneMatch(partei, nutzerAntworten, doppelt) {
  let punkte=0, max=0;
  for(const [id,a] of Object.entries(nutzerAntworten)){
    if(a==="skip") continue;
    const pa=partei.antworten[id];
    if(pa===null||pa===undefined) continue;
    const w=doppelt.has(id)?2:1;
    max+=2*w;
    if(a===pa) punkte+=2*w;
    else if(a==="neutral"||pa==="neutral") punkte+=1*w;
  }
  return max===0?null:Math.round((punkte/max)*100);
}

function shuffle(arr){
  const a=[...arr];
  for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}
  return a;
}

const ROT="#B8121E", GOLD="#C8A84B";
const SF="'Source Sans 3',system-ui,sans-serif";
const HF="'Libre Baskerville',Georgia,serif";
const KAT_FARBEN={
  "Verkehr & Mobilit√§t":"#C0152A","Digitalisierung & Transparenz":"#7C3AED",
  "Stadtentwicklung & Bauen":"#B45309","Wirtschaft & Finanzen":"#059669",
  "Soziales & Bildung":"#DB2777","Kultur & Gesellschaft":"#EA580C",
  "Klima & Umwelt":"#16A34A","Freizeit & Sport":"#0891B2","Demokratie & Beteiligung":"#8B1A1A",
};
const ANT_CFG={
  ja:{sym:"‚úì",farbe:"#16A34A",hell:"#DCFCE7",label:"Ja"},
  neutral:{sym:"‚Äì",farbe:"#64748B",hell:"#F1F5F9",label:"Neutral"},
  nein:{sym:"‚úï",farbe:"#DC2626",hell:"#FEE2E2",label:"Nein"},
  skip:{sym:"¬∑",farbe:"#AAA",hell:"#F5F5F5",label:"√úbersprungen"},
};

const css = `
  @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Source+Sans+3:wght@400;600;700&display=swap');
  @keyframes fadeUp{from{opacity:0;transform:translateY(16px)}to{opacity:1;transform:translateY(0)}}
  @keyframes barGrow{from{width:0}to{}}
  @keyframes expandIn{from{opacity:0;transform:translateY(-6px)}to{opacity:1;transform:translateY(0)}}
  @keyframes scaleIn{from{opacity:0;transform:scale(0.96)}to{opacity:1;transform:scale(1)}}
  .wk-fu{animation:fadeUp .5s ease both}
  .wk-fu1{animation-delay:.06s}.wk-fu2{animation-delay:.16s}.wk-fu3{animation-delay:.28s}.wk-fu4{animation-delay:.40s}.wk-fu5{animation-delay:.52s}
  .wk-bar{animation:barGrow 1s cubic-bezier(.22,.68,0,1.2) both}
  .wk-expand{animation:expandIn .22s ease both}
  .wk-modal{animation:scaleIn .22s ease}
  .wk-btn-ans{transition:transform .1s,box-shadow .1s;cursor:pointer}
  .wk-btn-ans:hover{transform:translateY(-3px)!important}
  .wk-btn-ans:active{transform:translateY(0)!important}
  .wk-karte-hdr{cursor:pointer;user-select:none;transition:background .15s}
  .wk-karte-hdr:hover{background:#FAFAF7!important}
  .wk-karte{animation:fadeUp .4s ease both}
  .wk-row:not(:last-child){border-bottom:1px solid #EDE9DF}
  .wk-ghost:hover{background:#E2DDD4!important}
  .wk-prim:hover{background:#8B0D17!important;transform:translateY(-2px);box-shadow:0 8px 24px rgba(140,13,23,.3)!important}
  .wk-gwt:hover{background:#F0EDE4!important}
`;

function AntwortIcon({antwort,size=24}){
  const c=ANT_CFG[antwort]||{sym:"?",farbe:"#CCC",hell:"#F5F5F5"};
  return(
    <div style={{width:size,height:size,borderRadius:"50%",background:c.hell,border:`2px solid ${c.farbe}`,display:"flex",alignItems:"center",justifyContent:"center",color:c.farbe,fontWeight:700,fontSize:size*.44,fontFamily:SF,flexShrink:0}}>
      {c.sym}
    </div>
  );
}

function DetailPanel({partei,nutzerAntworten}){
  const geordnet=FRAGEN.filter(f=>{
    const na=nutzerAntworten[f.id],pa=partei.antworten[f.id];
    return na&&na!=="skip"&&pa!==null&&pa!==undefined;
  });
  if(!geordnet.length) return(
    <div className="wk-expand" style={{padding:"14px 16px",borderTop:"1.5px solid #EDE9DF"}}>
      <p style={{fontFamily:SF,fontSize:".83rem",color:"#999",fontStyle:"italic"}}>Keine Antworten verf√ºgbar.</p>
    </div>
  );
  return(
    <div className="wk-expand" style={{borderTop:"1.5px solid #EDE9DF"}}>
      <div style={{display:"flex",gap:16,padding:"8px 16px",background:"#F7F5F0",borderBottom:"1px solid #EDE9DF",justifyContent:"flex-end"}}>
        {[{farbe:partei.farbe,label:partei.name},{farbe:"#888",label:"Du"}].map(({farbe,label})=>(
          <div key={label} style={{display:"flex",alignItems:"center",gap:5}}>
            <div style={{width:8,height:8,borderRadius:"50%",background:farbe}}/>
            <span style={{fontSize:".72rem",color:"#555",fontFamily:SF}}>{label}</span>
          </div>
        ))}
      </div>
      {geordnet.map(frage=>{
        const pa=partei.antworten[frage.id],na=nutzerAntworten[frage.id];
        const beg=partei.begruendungen?.[frage.id];
        const kc=KAT_FARBEN[frage.kategorie]||ROT;
        const match=pa===na,teilMatch=!match&&(pa==="neutral"||na==="neutral");
        return(
          <div key={frage.id} className="wk-row" style={{padding:"11px 16px",background:match?"#F0FAF4":teilMatch?"#FFFCF0":"#fff"}}>
            <div style={{fontSize:".65rem",fontWeight:700,textTransform:"uppercase",letterSpacing:".05em",color:kc,marginBottom:5}}>{frage.kategorie}</div>
            <div style={{display:"flex",gap:10,alignItems:"flex-start"}}>
              <p style={{flex:1,fontFamily:SF,fontSize:".84rem",color:"#1A1A2E",lineHeight:1.5}}>{frage.text}</p>
              <div style={{display:"flex",flexDirection:"column",gap:5,flexShrink:0}}>
                <div style={{display:"flex",alignItems:"center",gap:4}}>
                  <div style={{width:7,height:7,borderRadius:"50%",background:partei.farbe}}/>
                  <AntwortIcon antwort={pa} size={24}/>
                </div>
                <div style={{display:"flex",alignItems:"center",gap:4}}>
                  <div style={{width:7,height:7,borderRadius:"50%",background:"#888"}}/>
                  <AntwortIcon antwort={na} size={24}/>
                </div>
              </div>
            </div>
            {beg
              ?<div style={{marginTop:7,background:"#F5F2EB",borderLeft:`3px solid ${partei.farbe}`,borderRadius:"0 5px 5px 0",padding:"6px 10px"}}>
                <p style={{fontFamily:SF,fontSize:".78rem",color:"#444",lineHeight:1.55,fontStyle:"italic"}}>{beg}</p>
               </div>
              :<p style={{marginTop:4,fontFamily:SF,fontSize:".74rem",color:"#CCC",fontStyle:"italic"}}>Keine Begr√ºndung eingereicht.</p>
            }
          </div>
        );
      })}
    </div>
  );
}

function InfoPopup({onClose}){
  return(
    <div onClick={onClose} style={{position:"fixed",inset:0,background:"rgba(10,0,0,.6)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:16}}>
      <div className="wk-modal" onClick={e=>e.stopPropagation()} style={{background:"#FFFDF7",borderRadius:16,maxWidth:460,width:"100%",padding:"26px 24px",boxShadow:"0 20px 60px rgba(0,0,0,.35)",border:`2px solid ${GOLD}55`,fontFamily:SF,maxHeight:"88vh",overflowY:"auto"}}>
        <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:14}}>
          <h2 style={{fontFamily:HF,color:ROT,fontSize:"1.3rem"}}>√úber dieses Projekt</h2>
          <button onClick={onClose} style={{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#AAA",lineHeight:1,padding:0}}>√ó</button>
        </div>
        <p style={{fontSize:".9rem",color:"#333",lineHeight:1.7,marginBottom:14}}>Der <strong>WahlKompass Moosburg</strong> ist ein √ºberparteiliches und ehrenamtliches Projekt zur Kommunalwahl in Moosburg a.d. Isar.</p>
        <div style={{background:"#FFF8E6",border:`1.5px solid ${GOLD}`,borderRadius:9,padding:"11px 14px",marginBottom:16}}>
          <p style={{fontSize:".85rem",color:"#7A5F00",fontWeight:700,marginBottom:4}}>‚ö†Ô∏è Keine Wahlempfehlung</p>
          <p style={{fontSize:".82rem",color:"#5A4500",lineHeight:1.62}}>Dieses Tool stellt ausdr√ºcklich <strong>keine Wahlempfehlung</strong> dar. F√ºr die Inhalte der Parteiantworten sind ausschlie√ülich die jeweiligen Parteien selbst verantwortlich.</p>
        </div>
        <p style={{fontSize:".75rem",color:"#999",fontWeight:700,textTransform:"uppercase",letterSpacing:".07em",marginBottom:9}}>Ehrenamtlich beteiligt</p>
        <div style={{display:"flex",flexDirection:"column",gap:6,marginBottom:20}}>
          {[["Benedict Aria Gruber","Digitalisierungsreferent, StR ¬∑ FRESH"],["Philipp Fincke","StR ¬∑ FDP / parteilos"],["Kilian Linz","StR ¬∑ Gr√ºne"],["Stefan John","StR a.D. ¬∑ Linke"]].map(([n,r])=>(
            <div key={n} style={{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 11px",background:"#F5F2EB",borderRadius:8,gap:10}}>
              <span style={{fontWeight:700,color:"#1A1A2E",fontSize:".87rem"}}>{n}</span>
              <span style={{color:"#777",fontSize:".75rem",textAlign:"right",lineHeight:1.3}}>{r}</span>
            </div>
          ))}
        </div>
        <button onClick={onClose} className="wk-prim" style={{width:"100%",background:ROT,color:"#fff",border:"none",borderRadius:9,padding:"11px",fontSize:".93rem",fontFamily:SF,fontWeight:700,cursor:"pointer",transition:"all .18s"}}>Schlie√üen</button>
      </div>
    </div>
  );
}

function WelcomeScreen({onStart,onInfo}){
  return(
    <div style={{minHeight:"100%",background:"#F5F2EB",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"36px 16px 48px",fontFamily:SF}}>
      <div style={{maxWidth:520,width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:18}}>
        <div className="wk-fu wk-fu1" style={{background:`${ROT}18`,color:ROT,border:`1px solid ${ROT}35`,borderRadius:99,padding:"5px 14px",fontSize:".82rem",fontWeight:600}}>üìç Moosburg a.d. Isar</div>
        <h1 className="wk-fu wk-fu2" style={{fontFamily:HF,fontSize:"clamp(2.2rem,7vw,3.4rem)",color:ROT,textAlign:"center",lineHeight:1.15,letterSpacing:"-.02em"}}>Wahl<span style={{color:GOLD}}>Kompass</span></h1>
        <p className="wk-fu wk-fu3" style={{color:"#444",fontSize:"1rem",textAlign:"center",lineHeight:1.65}}>Kommunalwahl Moosburg ¬∑ Finde heraus, welche Partei deinen Ansichten am n√§chsten steht.</p>
        <div className="wk-fu wk-fu3" style={{display:"flex",gap:12,flexWrap:"wrap",justifyContent:"center"}}>
          {[["36","Fragen"],["6","Parteien"],["~10","Minuten"]].map(([z,l])=>(
            <div key={l} style={{display:"flex",flexDirection:"column",alignItems:"center",gap:2,background:"#fff",border:"1.5px solid #E5E0D5",borderRadius:11,padding:"12px 20px",minWidth:84}}>
              <span style={{fontFamily:HF,fontSize:"1.7rem",color:ROT,fontWeight:700}}>{z}</span>
              <span style={{fontSize:".74rem",color:"#777",textTransform:"uppercase",letterSpacing:".07em"}}>{l}</span>
            </div>
          ))}
        </div>
        <div className="wk-fu wk-fu3" style={{background:"#fff",border:"1.5px solid #E5E0D5",borderRadius:13,padding:"14px 20px",maxWidth:440,width:"100%"}}>
          <p style={{color:"#555",fontSize:".9rem",lineHeight:1.68,textAlign:"center"}}>Fragen in <strong>zuf√§lliger Reihenfolge</strong>. Antworte mit <strong>Ja</strong>, <strong>Neutral</strong> oder <strong>Nein</strong>, oder √ºberspringe. Am Ende kannst du Themen <strong>doppelt gewichten</strong>.</p>
        </div>
        <button className="wk-fu wk-fu4 wk-prim" onClick={onStart} style={{background:ROT,color:"#fff",border:"none",borderRadius:11,padding:"14px 36px",fontSize:"1rem",fontFamily:SF,fontWeight:700,cursor:"pointer",boxShadow:`0 4px 20px ${ROT}40`,transition:"all .18s"}}>Jetzt starten ‚Üí</button>
        <button className="wk-fu wk-fu5 wk-ghost" onClick={onInfo} style={{background:"transparent",border:"1.5px solid #C8C2B4",borderRadius:99,padding:"6px 18px",fontSize:".82rem",color:"#666",cursor:"pointer",fontFamily:SF,transition:"background .15s"}}>‚ÑπÔ∏è √úber dieses Projekt</button>
        <p className="wk-fu wk-fu5" style={{fontSize:".75rem",color:"#AAA",textAlign:"center"}}>Keine Daten werden gespeichert ¬∑ Alles l√§uft lokal in deinem Browser</p>
      </div>
    </div>
  );
}

function QuizScreen({frage,idx,gesamt,onAntwort,aktAntwort,onZurueck}){
  const kc=KAT_FARBEN[frage.kategorie]||ROT;
  const fp=(idx/gesamt)*100;
  return(
    <div style={{height:"100%",display:"flex",flexDirection:"column",background:"#F5F2EB",fontFamily:SF}}>
      <div style={{flex:1,overflowY:"auto",display:"flex",justifyContent:"center",padding:"18px 14px 10px"}}>
        <div style={{maxWidth:560,width:"100%",display:"flex",flexDirection:"column",gap:14}}>
          <div style={{display:"flex",alignItems:"center",gap:10}}>
            <div style={{flex:1,height:5,background:"#E5E0D5",borderRadius:99,overflow:"hidden"}}>
              <div style={{height:"100%",width:`${fp}%`,background:GOLD,borderRadius:99,transition:"width .4s ease"}}/>
            </div>
            <span style={{fontSize:".82rem",color:"#888",minWidth:46,textAlign:"right"}}>{idx+1} / {gesamt}</span>
          </div>
          <div style={{padding:"3px 11px",borderRadius:99,fontSize:".72rem",fontWeight:700,letterSpacing:".05em",background:kc+"18",color:kc,border:`1px solid ${kc}40`,alignSelf:"flex-start",textTransform:"uppercase"}}>{frage.kategorie}</div>
          <div key={frage.id} style={{background:"#fff",borderRadius:14,padding:"22px",border:"1.5px solid #E5E0D5",boxShadow:"0 2px 14px rgba(0,0,0,.05)",animation:"fadeUp .3s ease both"}}>
            <p style={{fontFamily:HF,fontSize:"clamp(1rem,3.2vw,1.18rem)",color:"#1A1A2E",lineHeight:1.58}}>{frage.text}</p>
          </div>
        </div>
      </div>
      <div style={{background:"#F5F2EB",borderTop:"1.5px solid #E5E0D5",padding:"10px 14px 16px",display:"flex",justifyContent:"center",flexShrink:0}}>
        <div style={{maxWidth:560,width:"100%",display:"flex",flexDirection:"column",gap:8}}>
          <div style={{display:"flex",gap:9}}>
            {[{label:"Ja",sym:"‚úì",farbe:"#16A34A",hell:"#DCFCE7",val:"ja"},{label:"Neutral",sym:"‚Äì",farbe:"#64748B",hell:"#F1F5F9",val:"neutral"},{label:"Nein",sym:"‚úï",farbe:"#DC2626",hell:"#FEE2E2",val:"nein"}].map(({label,sym,farbe,hell,val})=>{
              const aktiv=aktAntwort===val;
              return(
                <button key={val} className="wk-btn-ans" onClick={()=>onAntwort(val)} style={{flex:1,display:"flex",flexDirection:"column",alignItems:"center",gap:3,padding:"11px 6px",borderRadius:11,border:`2px solid ${farbe}`,background:aktiv?farbe:hell,color:aktiv?"#fff":farbe,fontFamily:SF,fontSize:".88rem",fontWeight:aktiv?700:600,boxShadow:aktiv?`0 4px 14px ${farbe}44`:"none",transition:"background .1s,color .1s"}}>
                  <span style={{fontSize:"1.1rem"}}>{sym}</span>
                  <span>{label}</span>
                </button>
              );
            })}
          </div>
          <div style={{display:"flex",gap:7}}>
            {idx>0&&<button className="wk-ghost" onClick={onZurueck} style={{flex:1,background:"#EDEAE2",border:"none",borderRadius:9,padding:"8px",fontFamily:SF,fontSize:".85rem",color:"#555",cursor:"pointer",transition:"background .15s"}}>‚Üê Zur√ºck</button>}
            <button className="wk-ghost" onClick={()=>onAntwort("skip")} style={{flex:1,background:"#EDEAE2",border:"none",borderRadius:9,padding:"8px",fontFamily:SF,fontSize:".85rem",color:"#555",cursor:"pointer",transition:"background .15s"}}>√úberspringen ‚Üí</button>
          </div>
        </div>
      </div>
    </div>
  );
}

function GewichtungScreen({fragen,doppelt,onToggle,onWeiter,onZurueck,beantw}){
  return(
    <div style={{minHeight:"100%",background:"#F5F2EB",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"24px 14px 48px",fontFamily:SF}}>
      <div style={{maxWidth:580,width:"100%",display:"flex",flexDirection:"column",gap:14}}>
        <h2 style={{fontFamily:HF,fontSize:"clamp(1.4rem,4.5vw,1.9rem)",color:ROT,letterSpacing:"-.02em"}}>Doppelte Gewichtung</h2>
        <p style={{color:"#555",fontSize:".92rem",lineHeight:1.62}}>Du hast <strong>{beantw} Fragen</strong> beantwortet. W√§hle Fragen, die dir besonders wichtig sind ‚Äî sie flie√üen <strong>doppelt</strong> ins Ergebnis ein.</p>
        {doppelt.size>0&&<div style={{background:"#FFF8E6",border:`1.5px solid ${GOLD}`,borderRadius:9,padding:"9px 14px",fontSize:".87rem",color:"#7A5F00"}}>‚öñÔ∏è <strong>{doppelt.size}</strong> {doppelt.size===1?"Frage":"Fragen"} doppelt gewichtet</div>}
        <div style={{display:"flex",flexDirection:"column",gap:7,maxHeight:"46vh",overflowY:"auto",paddingRight:3}}>
          {fragen.map(f=>{
            const aktiv=doppelt.has(f.id),kc=KAT_FARBEN[f.kategorie]||ROT;
            return(
              <div key={f.id} className="wk-gwt" onClick={()=>onToggle(f.id)} style={{display:"flex",alignItems:"center",gap:10,padding:"10px 13px",borderRadius:11,background:aktiv?"#FFF8E6":"#FAFAF8",border:`2px solid ${aktiv?GOLD:"#E5E0D5"}`,cursor:"pointer",transition:"all .15s"}}>
                <div style={{flex:1}}>
                  <span style={{fontSize:".68rem",fontWeight:700,textTransform:"uppercase",letterSpacing:".06em",color:kc,display:"block",marginBottom:2}}>{f.kategorie}</span>
                  <p style={{fontSize:".85rem",color:"#333",lineHeight:1.4}}>{f.text}</p>
                </div>
                <div style={{minWidth:34,height:34,borderRadius:7,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:".78rem",background:aktiv?GOLD:"#E5E0D5",color:aktiv?"#fff":"#888",flexShrink:0}}>{aktiv?"√ó2":"√ó1"}</div>
              </div>
            );
          })}
        </div>
        <div style={{display:"flex",gap:9}}>
          <button className="wk-ghost" onClick={onZurueck} style={{background:"#EDEAE2",border:"none",borderRadius:9,padding:"11px 18px",fontSize:".88rem",color:"#555",cursor:"pointer",fontFamily:SF,transition:"background .15s"}}>‚Üê Zur√ºck</button>
          <button className="wk-prim" onClick={onWeiter} style={{flex:1,background:ROT,color:"#fff",border:"none",borderRadius:11,padding:"11px 18px",fontSize:".97rem",fontFamily:SF,fontWeight:700,cursor:"pointer",boxShadow:`0 4px 14px ${ROT}35`,transition:"all .18s"}}>Ergebnis anzeigen ‚Üí</button>
        </div>
      </div>
    </div>
  );
}

function ErgebnisseScreen({ergebnisse,nutzerAntworten,onNeustart,doppeltAnz,beantw}){
  const [expandedId,setExpandedId]=useState(null);
  const maxMatch=ergebnisse.reduce((m,p)=>(p.match!==null&&p.match>m?p.match:m),0);
  return(
    <div style={{minHeight:"100%",background:"#F5F2EB",display:"flex",justifyContent:"center",alignItems:"flex-start",padding:"24px 14px 48px",fontFamily:SF}}>
      <div style={{maxWidth:580,width:"100%",display:"flex",flexDirection:"column",gap:10}}>
        <h2 style={{fontFamily:HF,fontSize:"clamp(1.4rem,4.5vw,1.9rem)",color:ROT,letterSpacing:"-.02em"}}>Dein Ergebnis</h2>
        <p style={{color:"#666",fontSize:".9rem"}}>{beantw} beantwortete Fragen{doppeltAnz>0?` ¬∑ ${doppeltAnz} doppelt gewichtet`:""} ¬∑ <em>Tippe f√ºr Details</em></p>
        {ergebnisse.map((p,i)=>{
          const isOpen=expandedId===p.id;
          return(
            <div key={p.id} className="wk-karte" style={{background:"#fff",border:`1.5px solid ${isOpen?p.farbe+"90":"#E5E0D5"}`,borderRadius:13,boxShadow:isOpen?`0 4px 18px ${p.farbe}22`:"0 2px 7px rgba(0,0,0,.04)",animationDelay:`${i*.065}s`,opacity:p.teilnehmend?1:.55,overflow:"hidden",transition:"border-color .2s,box-shadow .2s"}}>
              <div className="wk-karte-hdr" onClick={()=>p.teilnehmend&&setExpandedId(isOpen?null:p.id)} style={{padding:"14px 16px",background:isOpen?p.farbe+"08":"#fff",transition:"background .2s"}}>
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:9}}>
                  <div style={{display:"flex",alignItems:"center",gap:8,flexWrap:"wrap"}}>
                    <div style={{width:10,height:10,borderRadius:"50%",background:p.farbe,flexShrink:0}}/>
                    <span style={{fontFamily:HF,fontSize:".97rem",color:"#1A1A2E",fontWeight:700}}>{p.name}</span>
                    {!p.teilnehmend&&<span style={{background:"#F3F3F3",color:"#888",fontSize:".7rem",fontWeight:700,padding:"2px 8px",borderRadius:99,border:"1px solid #DDD"}}>Nicht teilgenommen</span>}
                  </div>
                  <div style={{display:"flex",alignItems:"center",gap:9}}>
                    {p.match!==null?<span style={{fontFamily:HF,fontSize:"1.25rem",fontWeight:700,color:p.match>=60?"#16A34A":p.match>=40?"#B45309":"#DC2626"}}>{p.match} %</span>:<span style={{color:"#CCC",fontSize:"1.1rem",fontFamily:HF}}>‚Äì</span>}
                    {p.teilnehmend&&<span style={{color:"#AAA",fontSize:".9rem",display:"inline-block",transform:isOpen?"rotate(180deg)":"rotate(0deg)",transition:"transform .25s"}}>‚ñæ</span>}
                  </div>
                </div>
                <div style={{height:7,background:"#F0EDE4",borderRadius:99,overflow:"hidden",marginBottom:5}}>
                  {p.match!==null
                    ?<div className="wk-bar" style={{height:"100%",width:`${p.match}%`,background:p.farbe,borderRadius:99,animationDelay:`${i*.065+.18}s`}}/>
                    :<div style={{height:"100%",width:"100%",background:"#E5E0D5",borderRadius:99}}/>
                  }
                </div>
                {p.match===null&&<p style={{fontSize:".78rem",color:"#999",fontStyle:"italic",lineHeight:1.5,marginTop:3}}>‚ö†Ô∏è Diese Partei hat ihre Antworten nicht fristgerecht eingereicht.</p>}
                {p.match===maxMatch&&p.match!==null&&<div style={{marginTop:7,background:"#FFFBEB",border:`1px solid ${GOLD}`,borderRadius:7,padding:"4px 11px",fontSize:".8rem",color:"#7A5F00",fontWeight:700,display:"inline-block"}}>üèÜ Beste √úbereinstimmung</div>}
              </div>
              {isOpen&&<DetailPanel partei={p} nutzerAntworten={nutzerAntworten}/>}
            </div>
          );
        })}
        <div style={{display:"flex",justifyContent:"center",marginTop:4}}>
          <button className="wk-prim" onClick={onNeustart} style={{background:ROT,color:"#fff",border:"none",borderRadius:11,padding:"12px 30px",fontSize:".97rem",fontFamily:SF,fontWeight:700,cursor:"pointer",boxShadow:`0 4px 14px ${ROT}35`,transition:"all .18s"}}>‚Ü∫ Neu starten</button>
        </div>
        <p style={{fontSize:".75rem",color:"#AAA",textAlign:"center",paddingBottom:6}}>√úberparteiliches, ehrenamtliches Informationsprojekt ¬∑ Keine Wahlempfehlung</p>
      </div>
    </div>
  );
}

function App(){
  const [screen,setScreen]=useState("welcome");
  const [shuffled]=useState(()=>shuffle(FRAGEN));
  const [idx,setIdx]=useState(0);
  const [antworten,setAntw]=useState({});
  const [doppelt,setDoppelt]=useState(new Set());
  const [popup,setPopup]=useState(false);

  const frage=shuffled[idx],gesamt=shuffled.length;
  const beantw=Object.values(antworten).filter(a=>a!=="skip").length;

  const gibAntwort=useCallback((a)=>{
    setAntw(prev=>({...prev,[frage.id]:a}));
    if(idx<gesamt-1) setIdx(i=>i+1); else setScreen("gewichtung");
  },[frage,idx,gesamt]);

  const toggleDoppelt=id=>setDoppelt(prev=>{const s=new Set(prev);s.has(id)?s.delete(id):s.add(id);return s;});

  const ergebnisse=useMemo(()=>{
    if(screen!=="ergebnisse") return [];
    return PARTEIEN
      .map(p=>({...p,match:p.teilnehmend?berechneMatch(p,antworten,doppelt):null}))
      .sort((a,b)=>{if(a.match===null&&b.match===null)return 0;if(a.match===null)return 1;if(b.match===null)return -1;return b.match-a.match;});
  },[screen,antworten,doppelt]);

  const beantwFragen=useMemo(()=>shuffled.filter(f=>antworten[f.id]&&antworten[f.id]!=="skip"),[shuffled,antworten]);
  const neustart=()=>{setAntw({});setDoppelt(new Set());setIdx(0);setScreen("welcome");};

  return(
    <div style={{height:"100vh",overflow:"auto",background:"#F5F2EB"}}>
      <style>{css}</style>
      {popup&&<InfoPopup onClose={()=>setPopup(false)}/>}
      {screen==="welcome"    &&<WelcomeScreen onStart={()=>setScreen("quiz")} onInfo={()=>setPopup(true)}/>}
      {screen==="quiz"       &&<QuizScreen frage={frage} idx={idx} gesamt={gesamt} onAntwort={gibAntwort} aktAntwort={antworten[frage?.id]} onZurueck={()=>idx>0&&setIdx(i=>i-1)}/>}
      {screen==="gewichtung" &&<GewichtungScreen fragen={beantwFragen} doppelt={doppelt} onToggle={toggleDoppelt} onWeiter={()=>setScreen("ergebnisse")} onZurueck={()=>{setIdx(gesamt-1);setScreen("quiz");}} beantw={beantw}/>}
      {screen==="ergebnisse" &&<ErgebnisseScreen ergebnisse={ergebnisse} nutzerAntworten={antworten} onNeustart={neustart} doppeltAnz={doppelt.size} beantw={beantw}/>}
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
